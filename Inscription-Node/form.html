<html>
<head>
<style>
input[type=text] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  box-sizing: border-box;
 }

 button {
  background-color: #00BFFF;
  color: white;
  padding: 14px 20px;
  margin: 8px 0;
  border: none;
  cursor: pointer;
  width: 100%;
 }

 .login {
	
	padding: 90px 20px;
	width:50%;
	margin:auto;	
 }  
 #message {
 font-size :50px;
 text-align:center;
 margin-top:20%;
 color:#FFFFFF;
 }
</style>
</head>
<body>
<div class="login"  id="login"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
$(document).ready(function() {
// create input text for the form
$("div#login").append(
$("<input/>", {
type: 'text',
id: 'firstname',
name: 'firstname',
placeholder: 'Your Name'
}), 
$("<input/>", {
type: 'text',
id: 'lastname',
name: 'lastname',
placeholder: 'Your LastName'
}),
$("<input/>", {
type: 'text',
id: 'email',
name: 'email',
placeholder: 'Your Email'
}), $("<br/>"), 
$("<button/>", {
id: 'submit',
text: 'REGISTER'
}))

$('button').click(function(){
valid();
});

$('body').append(
$("<div/>", {
id: 'message',
}));

}
);


function valid() {

    let firstname = $('#firstname').val();
    let lastname = $('#lastname').val();
    let email = $('#email').val();
	let regex =/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	
	//validate fields
	if ( (firstname!='') && (lastname!='') && (email!='') && (regex.test(email) ))
    {
	$("div#login").css("display", "none");
	$("body").css("background-color", "#00BFFF");
	
	//sending the request to the server
	$.get('', { name: $('#email').val() }, function(data) {
        $('#message').html(data.message);
    }, 'json');
	}
}
</script>
</body>
</html>
